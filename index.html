<!DOCTYPE html>
<html lang="en" class="h-full">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AI-Crypt Setup Guide üéÉ</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Google Font: Creepster for the title -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Creepster&display=swap" rel="stylesheet">
    <!-- Tone.js for spooky music -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tone/14.7.77/Tone.min.js"></script>
    
    <style>
        /* Custom Spooky Font */
        .font-creepster {
            font-family: 'Creepster', cursive;
        }

        /* Base dark theme */
        body {
            background-color: #171717; /* neutral-900 */
            color: #d4d4d4; /* neutral-300 */
            font-family: 'Inter', sans-serif;
        }

        /* --- Animation Fix: Parent needs to be relative --- */
        label.relative {
            position: relative;
        }

        /* Custom Checkbox Animation (Ghost üëª) */
        @keyframes float-up {
            0% {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
            100% {
                opacity: 0;
                transform: translateY(-50px) scale(0.5);
            }
        }
        .ghost-animation::after {
            content: 'üëª';
            position: absolute;
            left: 0;
            top: 0;
            font-size: 1.5rem;
            animation: float-up 0.75s ease-out forwards;
            pointer-events: none;
        }

        /* Custom Checkbox Animation (Pumpkin üéÉ) */
        @keyframes pop-up {
            0% {
                opacity: 1;
                transform: translateY(0) scale(0.5);
            }
            100% {
                opacity: 0;
                transform: translateY(-60px) scale(1.5);
            }
        }
        .pumpkin-animation::after {
            content: 'üéÉ';
            position: absolute;
            left: 0;
            top: 0;
            font-size: 1.5rem;
            animation: pop-up 0.75s ease-out forwards;
            pointer-events: none;
        }
        
        /* Custom checkbox style */
        input[type="checkbox"]:checked {
            background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
            background-color: #f97316; /* orange-500 */
            border-color: #fb923c; /* orange-400 */
        }
        input[type="checkbox"] {
            -webkit-appearance: none;
            appearance: none;
            background-color: #404040; /* neutral-700 */
            border: 1px solid #525252; /* neutral-600 */
            border-radius: 9999px; /* rounded-full */
            width: 1.25rem;
            height: 1.25rem;
            cursor: pointer;
            transition: background-color 0.2s, border-color 0.2s;
        }
        input[type="checkbox"]:hover {
            border-color: #f97316; /* orange-500 */
        }
        
        /* Accordion transition for max-height */
        .accordion-content {
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.7s cubic-bezier(0.4, 0, 0.2, 1);
        }
        .accordion-content.open {
            max-height: 5000px; /* Large enough for content */
        }
        
        /* Section transition for fade-in */
        .step-section {
            display: none;
            opacity: 0;
            transition: opacity 0.7s ease-in-out;
        }
        .step-section.visible {
            display: block;
            opacity: 1;
        }

        /* --- Jump Scare Styles --- */
        #jumpscare-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: rgba(0, 0, 0, 0.85);
            display: none; /* Hidden by default */
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            transition: opacity 0.2s ease-in-out;
            pointer-events: none;
        }
        #jumpscare-overlay.active {
            display: flex;
            opacity: 1;
        }

        /* Shake Animation */
        @keyframes shake {
            0% { transform: translate(1px, 1px) rotate(0deg); }
            10% { transform: translate(-1px, -2px) rotate(-1deg); }
            20% { transform: translate(-3px, 0px) rotate(1deg); }
            30% { transform: translate(3px, 2px) rotate(0deg); }
            40% { transform: translate(1px, -1px) rotate(1deg); }
            50% { transform: translate(-1px, 2px) rotate(-1deg); }
            60% { transform: translate(-3px, 1px) rotate(0deg); }
            70% { transform: translate(3px, 1px) rotate(-1deg); }
            80% { transform: translate(-1px, -1px) rotate(1deg); }
            90% { transform: translate(1px, 2px) rotate(0deg); }
            100% { transform: translate(1px, -2px) rotate(-1deg); }
        }

        .jumpscare-img {
            display: none;
            animation-duration: 0.5s;
            animation-iteration-count: infinite;
            animation-timing-function: linear;
            border-radius: 1.5rem;
            box-shadow: 0 0 50px 20px #f97316; /* orange glow */
        }
        .jumpscare-img.active {
            display: block;
            animation-name: shake;
        }
        #jumpscare-img-1 {
            transform: rotate(-15deg);
        }
        #jumpscare-img-2 {
            transform: rotate(15deg);
        }

        /* --- Confirmation Modal --- */
        #confirmation-modal {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.8);
            display: none; /* Hidden by default */
            justify-content: center;
            align-items: center;
            z-index: 500;
            opacity: 0;
            transition: opacity 0.3s ease;
        }
        #confirmation-modal.visible {
            display: flex;
            opacity: 1;
        }

        /* --- NEW: Realistic Cloud Fog --- */
        @keyframes drift {
            0% { transform: translateX(-50%); }
            100% { transform: translateX(50%); }
        }
        .fog-container {
            position: fixed;
            bottom: -50px;
            left: 0;
            width: 100%;
            height: 200px;
            pointer-events: none;
            z-index: 10;
            overflow: hidden;
        }
        .fog-layer {
            position: absolute;
            bottom: 0;
            left: -50%; /* Start off-screen */
            width: 200%; /* Twice as wide */
            height: 200px;
            background: radial-gradient(ellipse at center, rgba(255,255,255,0.2) 0%, rgba(255,255,255,0.05) 40%, rgba(255,255,255,0) 70%);
            filter: blur(15px);
            animation: drift 20s linear infinite alternate;
        }
        .fog-layer-2 {
            animation-duration: 25s;
            animation-direction: alternate-reverse;
            opacity: 0.8;
            bottom: -70px;
            filter: blur(20px);
        }
    </style>
</head>
<body class="h-full antialiased relative overflow-x-hidden">
    <!-- NEW: Realistic Fog Container -->
    <div class="fog-container">
        <div class="fog-layer"></div>
        <div class="fog-layer fog-layer-2"></div>
    </div>

    <!-- Main Content Container -->
    <div class="min-h-full p-4 sm:p-8 flex items-center justify-center relative z-20">
        <div class="w-full max-w-3xl mx-auto">
            
            <!-- Header -->
            <header class="text-center mb-6">
                <h1 class="font-creepster text-6xl sm:text-7xl text-orange-500 tracking-wider">
                    AI-Crypt Setup
                </h1>
                <p class="text-xl text-neutral-400 mt-2">The Haunted Guide to Your Local AI ü¶á</p>
            </header>

            <!-- Progress Bar & Controls -->
            <div class="bg-neutral-800 rounded-2xl p-4 mb-6 sticky top-4 z-30 border border-neutral-700 shadow-lg">
                <div class="flex justify-between items-center mb-2 text-sm text-neutral-300">
                    <span class="font-medium">Summoning Progress:</span>
                    <span id="progress-text" class="font-bold text-orange-400">0%</span>
                </div>
                <div class="w-full bg-neutral-700 rounded-full h-4 border border-neutral-600">
                    <div id="progress-bar" class="bg-gradient-to-r from-orange-500 to-amber-500 h-full rounded-full transition-all duration-500" style="width: 0%"></div>
                </div>
                
                <!-- Control Buttons -->
                <div class="flex items-center justify-end space-x-4 mt-4">
                    <!-- Music Toggle -->
                    <button id="music-toggle" title="Toggle Spooky Music" class="text-neutral-400 hover:text-orange-500 transition-colors text-2xl">
                        üîà
                    </button>
                    <!-- Reset Button -->
                    <button id="reset-button" class="px-4 py-2 bg-rose-800 text-rose-100 rounded-lg text-sm font-medium hover:bg-rose-700 transition-colors shadow-md border border-rose-700">
                        Reset Spell üï∏Ô∏è
                    </button>
                </div>
            </div>

            <!-- This div will hold all the accordion sections -->
            <div id="guide-container" class="space-y-4">

                <!-- Step 0: Before You Start -->
                <section id="step-0" class="step-section visible">
                    <div class="bg-neutral-800 rounded-2xl border border-neutral-700 shadow-lg overflow-hidden">
                        <button class="accordion-toggle w-full p-4 sm:p-6 text-left" data-step="0">
                            <div class="flex justify-between items-center">
                                <h2 class="text-xl sm:text-2xl font-bold text-orange-400">üìã Before You Start: Quick Checklist</h2>
                                <span class="accordion-icon text-3xl text-orange-400 font-light transform transition-transform duration-300">-</span>
                            </div>
                        </button>
                        <div class="accordion-content open p-4 sm:p-6 pt-0 space-y-4" data-content="0">
                            <p class="text-neutral-300">Make sure you have these things ready before you enter the crypt:</p>
                            <!-- NOTE: Added `relative` class for animation fix -->
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-0-1" class="sub-step-checkbox flex-shrink-0">
                                <span class="text-neutral-300">A Windows 11 PC</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-0-2" class="sub-step-checkbox flex-shrink-0">
                                <span class="text-neutral-300">At least 8GB RAM (16GB is much better!)</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-0-3" class="sub-step-checkbox flex-shrink-0">
                                <span class="text-neutral-300">At least 20GB of free hard drive space</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-0-4" class="sub-step-checkbox flex-shrink-0">
                                <span class="text-neutral-300">Administrator access on your computer</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-0-5" class="sub-step-checkbox flex-shrink-0">
                                <span class="text-neutral-300">A stable internet connection (to download the horrors)</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-0-6" class="sub-step-checkbox flex-shrink-0">
                                <span class="text-neutral-300">About 45 minutes of focused time</span>
                            </label>
                        </div>
                    </div>
                </section>

                <!-- Part 1: Python -->
                <section id="step-1" class="step-section">
                    <div class="bg-neutral-800 rounded-2xl border border-neutral-700 shadow-lg overflow-hidden">
                        <button class="accordion-toggle w-full p-4 sm:p-6 text-left" data-step="1">
                            <div class="flex justify-between items-center">
                                <h2 class="text-xl sm:text-2xl font-bold text-orange-400">Part 1: üêç Installing Python (The Foundation)</h2>
                                <span class="accordion-icon text-3xl text-orange-400 font-light transform transition-transform duration-300 rotate-90">+</span>
                            </div>
                        </button>
                        <div class="accordion-content p-4 sm:p-6 pt-0 space-y-4" data-content="1">
                            <p class="text-amber-300 bg-amber-900/50 border border-amber-800 p-3 rounded-lg"><strong>Why?</strong> Python is the ancient language that OpenManus is built on. Think of it as installing the engine before building the hearse.</p>
                            
                            <strong class="block text-lg text-neutral-200 pt-2">Step 1.1: Download Python</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-1-1" class="sub-step-checkbox flex-shrink-0">
                                <span>Go to: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">https://www.python.org/downloads/</code></span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-1-2" class="sub-step-checkbox flex-shrink-0">
                                <span>Click the big yellow button: "Download Python 3.12" (or latest).</span>
                            </label>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 1.2: Install Python</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-1-3" class="sub-step-checkbox flex-shrink-0">
                                <span>Find the downloaded file (e.g., `python-3.12.x-amd64.exe`).</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-1-4" class="sub-step-checkbox flex-shrink-0">
                                <span>**Right-click** it and select "Run as administrator".</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg bg-rose-900/60 border border-rose-800 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-1-5" class="sub-step-checkbox flex-shrink-0">
                                <span class="font-bold text-rose-200">‚ÄºÔ∏è VERY IMPORTANT! ‚ÄºÔ∏è Check the box that says "Add Python to PATH".</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-1-6" class="sub-step-checkbox flex-shrink-0">
                                <span>Click "Install Now".</span>
                            </label>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 1.3: Verify Installation</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-1-7" class="sub-step-checkbox flex-shrink-0">
                                <span>Press <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">Windows Key + R</code>.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-1-8" class="sub-step-checkbox flex-shrink-0">
                                <span>Type <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">cmd</code> and press Enter.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-1-9" class="sub-step-checkbox flex-shrink-0">
                                <span>In the black window, type: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">python --version</code> and press Enter.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-1-10" class="sub-step-checkbox flex-shrink-0">
                                <span>You should see something like: <code class="text-emerald-400 bg-neutral-700 px-2 py-1 rounded-md">Python 3.12.x</code></span>
                            </label>

                            <!-- Part 1 Completion Checkbox -->
                            <label class="flex items-center space-x-3 p-4 mt-4 rounded-lg bg-neutral-700 border border-neutral-600 shadow-inner cursor-pointer relative">
                                <input type="checkbox" data-id="part-1-complete" class="main-step-checkbox flex-shrink-0">
                                <span class="text-lg font-bold text-orange-400">üßü I've completed Part 1</span>
                            </label>
                        </div>
                    </div>
                </section>
                
                <!-- Part 2: Ollama -->
                <section id="step-2" class="step-section">
                    <div class="bg-neutral-800 rounded-2xl border border-neutral-700 shadow-lg overflow-hidden">
                        <button class="accordion-toggle w-full p-4 sm:p-6 text-left" data-step="2">
                            <div class="flex justify-between items-center">
                                <h2 class="text-xl sm:text-2xl font-bold text-orange-400">Part 2: ü¶ô Installing Ollama (The AI Brain)</h2>
                                <span class="accordion-icon text-3xl text-orange-400 font-light transform transition-transform duration-300 rotate-90">+</span>
                            </div>
                        </button>
                        <div class="accordion-content p-4 sm:p-6 pt-0 space-y-4" data-content="2">
                            <p class="text-amber-300 bg-amber-900/50 border border-amber-800 p-3 rounded-lg"><strong>Why?</strong> Ollama is the program that runs the AI models on your computer. It‚Äôs the "brain" of the operation.</p>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 2.1: Download Ollama</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-2-1" class="sub-step-checkbox flex-shrink-0">
                                <span>Go to: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">https://ollama.com</code></span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-2-2" class="sub-step-checkbox flex-shrink-0">
                                <span>Click "Download for Windows".</span>
                            </label>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 2.2: Install Ollama</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-2-3" class="sub-step-checkbox flex-shrink-0">
                                <span>Find and double-click <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">OllamaSetup.exe</code>.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-2-4" class="sub-step-checkbox flex-shrink-0">
                                <span>Click "Install".</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-2-5" class="sub-step-checkbox flex-shrink-0">
                                <span>Look for the new llama icon in your system tray (bottom right).</span>
                            </label>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 2.3: Verify Ollama is Running</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-2-6" class="sub-step-checkbox flex-shrink-0">
                                <span>Open your web browser.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-2-7" class="sub-step-checkbox flex-shrink-0">
                                <span>In the address bar, type: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">http://localhost:11434</code></span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-2-8" class="sub-step-checkbox flex-shrink-0">
                                <span>You should see: <code class="text-emerald-400 bg-neutral-700 px-2 py-1 rounded-md">Ollama is running</code></span>
                            </label>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 2.4: Download AI Models</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-2-9" class="sub-step-checkbox flex-shrink-0">
                                <span>Open `cmd` (Windows Key + R, type `cmd`, press Enter).</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-2-10" class="sub-step-checkbox flex-shrink-0">
                                <span>Type this and press Enter: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">ollama pull qwen</code></span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-2-11" class="sub-step-checkbox flex-shrink-0">
                                <span>Wait 5-10 minutes. This is a big download.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-2-12" class="sub-step-checkbox flex-shrink-0">
                                <span>When finished, type this and press Enter: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">ollama pull llava</code></span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-2-13" class="sub-step-checkbox flex-shrink-0">
                                <span>Wait another 5-10 minutes.</span>
                            </label>

                            <!-- Part 2 Completion Checkbox -->
                            <label class="flex items-center space-x-3 p-4 mt-4 rounded-lg bg-neutral-700 border border-neutral-600 shadow-inner cursor-pointer relative">
                                <input type="checkbox" data-id="part-2-complete" class="main-step-checkbox flex-shrink-0">
                                <span class="text-lg font-bold text-orange-400">üßü I've completed Part 2</span>
                            </label>
                        </div>
                    </div>
                </section>

                <!-- Part 3: Git -->
                <section id="step-3" class="step-section">
                    <div class="bg-neutral-800 rounded-2xl border border-neutral-700 shadow-lg overflow-hidden">
                        <button class="accordion-toggle w-full p-4 sm:p-6 text-left" data-step="3">
                            <div class="flex justify-between items-center">
                                <h2 class="text-xl sm:text-2xl font-bold text-orange-400">Part 3: üï∏Ô∏è Installing Git (The Code Downloader)</h2>
                                <span class="accordion-icon text-3xl text-orange-400 font-light transform transition-transform duration-300 rotate-90">+</span>
                            </div>
                        </button>
                        <div class="accordion-content p-4 sm:p-6 pt-0 space-y-4" data-content="3">
                            <p class="text-amber-300 bg-amber-900/50 border border-amber-800 p-3 rounded-lg"><strong>Why?</strong> Git is a tool for downloading code. We need it to get the OpenManus files from the internet (GitHub).</p>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 3.1: Download Git</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-3-1" class="sub-step-checkbox flex-shrink-0">
                                <span>Go to: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">https://git-scm.com/download/win</code></span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-3-2" class="sub-step-checkbox flex-shrink-0">
                                <span>Click "Click here to download" (for 64-bit).</span>
                            </label>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 3.2: Install Git</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-3-3" class="sub-step-checkbox flex-shrink-0">
                                <span>Find and double-click the downloaded <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">Git-2.x.x-64-bit.exe</code>.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-3-4" class="sub-step-checkbox flex-shrink-0">
                                <span>Just keep clicking **"Next"** through all the screens. Defaults are fine.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-3-5" class="sub-step-checkbox flex-shrink-0">
                                <span>Click **"Install"** at the end, then **"Finish"**.</span>
                            </label>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 3.3: Verify Installation</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-3-6" class="sub-step-checkbox flex-shrink-0">
                                <span>Open `cmd` (Windows Key + R, type `cmd`, press Enter).</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-3-7" class="sub-step-checkbox flex-shrink-0">
                                <span>Type: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">git --version</code> and press Enter.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-3-8" class="sub-step-checkbox flex-shrink-0">
                                <span>You should see: <code class="text-emerald-400 bg-neutral-700 px-2 py-1 rounded-md">git version 2.x.x</code></span>
                            </label>

                            <!-- Part 3 Completion Checkbox -->
                            <label class="flex items-center space-x-3 p-4 mt-4 rounded-lg bg-neutral-700 border border-neutral-600 shadow-inner cursor-pointer relative">
                                <input type="checkbox" data-id="part-3-complete" class="main-step-checkbox flex-shrink-0">
                                <span class="text-lg font-bold text-orange-400">üßü I've completed Part 3</span>
                            </label>
                        </div>
                    </div>
                </section>

                <!-- Part 4: OpenManus -->
                <section id="step-4" class="step-section">
                    <div class="bg-neutral-800 rounded-2xl border border-neutral-700 shadow-lg overflow-hidden">
                        <button class="accordion-toggle w-full p-4 sm:p-6 text-left" data-step="4">
                            <div class="flex justify-between items-center">
                                <h2 class="text-xl sm:text-2xl font-bold text-orange-400">Part 4: ü§ñ Setting Up OpenManus (The Golem)</h2>
                                <span class="accordion-icon text-3xl text-orange-400 font-light transform transition-transform duration-300 rotate-90">+</span>
                            </div>
                        </button>
                        <div class="accordion-content p-4 sm:p-6 pt-0 space-y-4" data-content="4">
                            <p class="text-amber-300 bg-amber-900/50 border border-amber-800 p-3 rounded-lg"><strong>Why?</strong> This is the AI *agent*‚Äîthe golem that will take your commands and use the AI brain to do work.</p>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 4.1: Create a Project Folder</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-4-1" class="sub-step-checkbox flex-shrink-0">
                                <span>Press <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">Windows Key + E</code> (opens File Explorer).</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-4-2" class="sub-step-checkbox flex-shrink-0">
                                <span>Click on your **C:** drive.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-4-3" class="sub-step-checkbox flex-shrink-0">
                                <span>Right-click in the empty space, choose **New > Folder**.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-4-4" class="sub-step-checkbox flex-shrink-0">
                                <span>Name it: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">AI-Projects</code></span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-4-5" class="sub-step-checkbox flex-shrink-0">
                                <span>Double-click to open this new folder.</span>
                            </label>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 4.2: Open PowerShell Here</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-4-6" class="sub-step-checkbox flex-shrink-0">
                                <span>While inside `AI-Projects`, click the address bar at the top.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-4-7" class="sub-step-checkbox flex-shrink-0">
                                <span>Type: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">powershell</code> and press Enter.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-4-8" class="sub-step-checkbox flex-shrink-0">
                                <span>A **blue PowerShell window** will pop up.</span>
                            </label>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 4.3: Download OpenManus</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-4-9" class="sub-step-checkbox flex-shrink-0">
                                <span>In the **blue window**, type this and press Enter: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">git clone https://github.com/FoundationAgents/OpenManus.git</code></span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-4-10" class="sub-step-checkbox flex-shrink-0">
                                <span>When it's done, type this and press Enter: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">cd OpenManus</code></span>
                            </label>
                            
                            <strong class="block text-lg text-neutral-200 pt-2">Step 4.4: Install Python Packages</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-4-11" class="sub-step-checkbox flex-shrink-0">
                                <span>In the same blue window, type this and press Enter: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">pip install -r requirements.txt</code></span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-4-12" class="sub-step-checkbox flex-shrink-0">
                                <span>Wait 5-10 minutes. A *lot* of text will scroll by. This is normal!</span>
                            </label>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 4.5: Install Browser Tools (Recommended)</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-4-13" class="sub-step-checkbox flex-shrink-0">
                                <span>Type this and press Enter: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">playwright install</code></span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-4-14" class="sub-step-checkbox flex-shrink-0">
                                <span>Wait 3-5 minutes.</span>
                            </label>

                            <!-- Part 4 Completion Checkbox -->
                            <label class="flex items-center space-x-3 p-4 mt-4 rounded-lg bg-neutral-700 border border-neutral-600 shadow-inner cursor-pointer relative">
                                <input type="checkbox" data-id="part-4-complete" class="main-step-checkbox flex-shrink-0">
                                <span class="text-lg font-bold text-orange-400">üßü I've completed Part 4</span>
                            </label>
                        </div>
                    </div>
                </section>
                
                <!-- Part 5: Configuration -->
                <section id="step-5" class="step-section">
                    <div class="bg-neutral-800 rounded-2xl border border-neutral-700 shadow-lg overflow-hidden">
                        <button class="accordion-toggle w-full p-4 sm:p-6 text-left" data-step="5">
                            <div class="flex justify-between items-center">
                                <h2 class="text-xl sm:text-2xl font-bold text-orange-400">Part 5: ‚öôÔ∏è Configuring the Golem</h2>
                                <span class="accordion-icon text-3xl text-orange-400 font-light transform transition-transform duration-300 rotate-90">+</span>
                            </div>
                        </button>
                        <div class="accordion-content p-4 sm:p-6 pt-0 space-y-4" data-content="5">
                            <p class="text-amber-300 bg-amber-900/50 border border-amber-800 p-3 rounded-lg"><strong>Why?</strong> We must tell the golem to use your *local* Ollama brain (free) instead of expensive online ones.</p>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 5.1: Create Configuration File</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-5-1" class="sub-step-checkbox flex-shrink-0">
                                <span>In your blue PowerShell window, type this and press Enter: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">cd config</code></span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-5-2" class="sub-step-checkbox flex-shrink-0">
                                <span>Then type this and press Enter: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">copy config.example.toml config.toml</code></span>
                            </label>
                            
                            <strong class="block text-lg text-neutral-200 pt-2">Step 5.2: Edit Configuration File</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-5-3" class="sub-step-checkbox flex-shrink-0">
                                <span>Type this and press Enter: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">notepad config.toml</code> (Notepad will open).</span>
                            </label>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 5.3: Update the Configuration (The Dark Incantation)</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-5-4" class="sub-step-checkbox flex-shrink-0">
                                <span>Find the section that starts with `[llm]`.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-5-5" class="sub-step-checkbox flex-shrink-0">
                                <span>**DELETE** everything under it.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-5-6" class="sub-step-checkbox flex-shrink-0">
                                <span>**COPY and PASTE** this *exactly* in its place:</span>
                            </label>
                            <pre class="bg-neutral-900 border border-neutral-700 rounded-lg p-3 text-sm text-neutral-300 overflow-x-auto">
[llm]
api_type = "ollama"
model = "qwen:latest" 
base_url = "http://localhost:11434/v1"
api_key = "ollama"
max_tokens = 8192
temperature = 0.3</pre>
                            
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-5-7" class="sub-step-checkbox flex-shrink-0">
                                <span>Find the section that starts with `[llm.vision]`.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-5-8" class="sub-step-checkbox flex-shrink-0">
                                <span>**DELETE** everything under it.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-5-9" class="sub-step-checkbox flex-shrink-0">
                                <span>**COPY and PASTE** this *exactly* in its place:</span>
                            </label>
                            <pre class="bg-neutral-900 border border-neutral-700 rounded-lg p-3 text-sm text-neutral-300 overflow-x-auto">
[llm.vision]
api_type = "ollama"
model = "llava:latest"
base_url = "http://localhost:11434/v1"
api_key = "ollama"
max_tokens = 8192
temperature = 0.3</pre>

                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-5-10" class="sub-step-checkbox flex-shrink-0">
                                <span>Press <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">Ctrl + S</code> to Save.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-5-11" class="sub-step-checkbox flex-shrink-0">
                                <span>Close Notepad.</span>
                            </label>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 5.4: Return to Main Folder</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-5-12" class="sub-step-checkbox flex-shrink-0">
                                <span>In your blue PowerShell window, type: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">cd ..</code> (that's 'cd' and two dots).</span>
                            </label>

                            <!-- Part 5 Completion Checkbox -->
                            <label class="flex items-center space-x-3 p-4 mt-4 rounded-lg bg-neutral-700 border border-neutral-600 shadow-inner cursor-pointer relative">
                                <input type="checkbox" data-id="part-5-complete" class="main-step-checkbox flex-shrink-0">
                                <span class="text-lg font-bold text-orange-400">üßü I've completed Part 5</span>
                            </label>
                        </div>
                    </div>
                </section>
                
                <!-- Part 6: Run! -->
                <section id="step-6" class="step-section">
                    <div class="bg-neutral-800 rounded-2xl border border-neutral-700 shadow-lg overflow-hidden">
                        <button class="accordion-toggle w-full p-4 sm:p-6 text-left" data-step="6">
                            <div class="flex justify-between items-center">
                                <h2 class="text-xl sm:text-2xl font-bold text-orange-400">Part 6: üéâ RUN! (Or, Run It...)</h2>
                                <span class="accordion-icon text-3xl text-orange-400 font-light transform transition-transform duration-300 rotate-90">+</span>
                            </div>
                        </button>
                        <div class="accordion-content p-4 sm:p-6 pt-0 space-y-4" data-content="6">
                            <p class="text-amber-300 bg-amber-900/50 border border-amber-800 p-3 rounded-lg"><strong>Why?</strong> This is the moment of truth. Let's awaken the golem!</p>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 6.1: Start the Ollama Service (The Brain)</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-6-1" class="sub-step-checkbox flex-shrink-0">
                                <span>Open `cmd` (Windows Key + R, type `cmd`).</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-6-2" class="sub-step-checkbox flex-shrink-0">
                                <span>In the new **black window**, type: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">ollama serve</code></span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg bg-rose-900/60 border border-rose-800 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-6-3" class="sub-step-checkbox flex-shrink-0">
                                <span class="font-bold text-rose-200">‚ÄºÔ∏è LEAVE THIS WINDOW OPEN. ‚ÄºÔ∏è Minimize it, but don't close it.</span>
                            </label>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 6.2: Start OpenManus (The Golem)</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-6-4" class="sub-step-checkbox flex-shrink-0">
                                <span>Go back to your **blue PowerShell window**.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-6-5" class="sub-step-checkbox flex-shrink-0">
                                <span>Make sure you're in the `C:\AI-Projects\OpenManus` folder.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-6-6" class="sub-step-checkbox flex-shrink-0">
                                <span>Type: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">python main.py</code> and press Enter.</span>
                            </label>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 6.3: Test Your AI!</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-6-7" class="sub-step-checkbox flex-shrink-0">
                                <span>Wait 30-60 seconds. You should see: <code class="text-emerald-400 bg-neutral-700 px-2 py-1 rounded-md">Enter your prompt:</code></span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-6-8" class="sub-step-checkbox flex-shrink-0">
                                <span>Type a test command: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">Create a simple HTML webpage about cats</code></span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-6-9" class="sub-step-checkbox flex-shrink-0">
                                <span>Press Enter and watch it work!</span>
                            </label>

                            <!-- Part 6 Completion Checkbox -->
                            <label class="flex items-center space-x-3 p-4 mt-4 rounded-lg bg-neutral-700 border border-neutral-600 shadow-inner cursor-pointer relative">
                                <input type="checkbox" data-id="part-6-complete" class="main-step-checkbox flex-shrink-0">
                                <span class="text-lg font-bold text-orange-400">üßü I've completed Part 6</span>
                            </label>
                        </div>
                    </div>
                </section>

                <!-- Part 7: Success! -->
                <section id="step-7" class="step-section">
                    <div class="bg-neutral-800 rounded-2xl border border-neutral-700 shadow-lg overflow-hidden">
                        <button class="accordion-toggle w-full p-4 sm:p-6 text-left" data-step="7">
                            <div class="flex justify-between items-center">
                                <h2 class="text-xl sm:text-2xl font-bold text-orange-400">üèÜ Success! You've Survived! üèÜ</h2>
                                <span class="accordion-icon text-3xl text-orange-400 font-light transform transition-transform duration-300 rotate-90">+</span>
                            </div>
                        </button>
                        <div class="accordion-content p-4 sm:p-6 pt-0 space-y-4" data-content="7">
                            <p class="text-lg text-emerald-300">You did it! You've successfully set up your own local AI agent system! You now have:</p>
                            <ul class="list-disc list-inside space-y-2 text-neutral-300 pl-2">
                                <li>A powerful AI running **on YOUR computer**.</li>
                                <li>Complete **privacy** (no data sent to the crypt-keeper).</li>
                                <li>**No API costs** or subscription fees.</li>
                                <li>The ability to automate complex tasks!</li>
                            </ul>
                            
                            <!-- Part 7 Completion Checkbox -->
                            <label class="flex items-center space-x-3 p-4 mt-4 rounded-lg bg-neutral-700 border border-neutral-600 shadow-inner cursor-pointer relative">
                                <input type="checkbox" data-id="part-7-complete" class="main-step-checkbox flex-shrink-0">
                                <span class="text-lg font-bold text-orange-400">üßü I'm ready for the next part!</span>
                            </label>
                        </div>
                    </div>
                </section>

                <!-- Part 8: Troubleshooting -->
                <section id="step-8" class="step-section">
                    <div class="bg-neutral-800 rounded-2xl border border-neutral-700 shadow-lg overflow-hidden">
                        <button class="accordion-toggle w-full p-4 sm:p-6 text-left" data-step="8">
                            <div class="flex justify-between items-center">
                                <h2 class="text-xl sm:text-2xl font-bold text-orange-400">Part 8: üíÄ Troubleshooting (If It Fights Back)</h2>
                                <span class="accordion-icon text-3xl text-orange-400 font-light transform transition-transform duration-300 rotate-90">+</span>
                            </div>
                        </button>
                        <div class="accordion-content p-4 sm:p-6 pt-0 space-y-4" data-content="8">
                            <div class="space-y-3">
                                <strong class="text-rose-400">Problem: `"python" is not recognized...`</strong>
                                <p><strong>Solution:</strong> You missed **Step 1.2, point 3**. Re-install Python, and make SURE you check the **"Add Python to PATH"** box. Restart your PC after.</p>
                            </div>
                            <div class="space-y-3 pt-2">
                                <strong class="text-rose-400">Problem: `"Ollama is not running"` or `"Connection refused"`</strong>
                                <p><strong>Solution:</strong> Make sure the llama icon is in your system tray. If not, find "Ollama" in your Start Menu and run it. Also, make sure your **Step 6.1** (`ollama serve`) window is still open and running.</p>
                            </div>
                            <div class="space-y-3 pt-2">
                                <strong class="text-rose-400">Problem: `"ModuleNotFoundError"`</strong>
                                <p><strong>Solution:</strong> Some packages didn't install. Go to your blue PowerShell window, make sure you're in the `C:\AI-Projects\OpenManus` folder, and run this again: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">pip install -r requirements.txt</code></p>
                            </div>
                            <div class="space-y-3 pt-2">
                                <strong class="text-rose-400">Problem: AI responses are *very* slow.</strong>
                                <p><strong>Solution:</strong> This is likely low RAM. 16GB+ is much better. Try a smaller, faster model. In `cmd`, run: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">ollama pull llama3:8b</code>. Then edit your `config.toml` file (Part 5) and change the `model = "qwen:latest"` to `model = "llama3:8b"`. </p>
                            </div>
                            
                            <!-- Part 8 Completion Checkbox -->
                            <label class="flex items-center space-x-3 p-4 mt-4 rounded-lg bg-neutral-700 border border-neutral-600 shadow-inner cursor-pointer relative">
                                <input type="checkbox" data-id="part-8-complete" class="main-step-checkbox flex-shrink-0">
                                <span class="text-lg font-bold text-orange-400">üßü I've read the warnings.</span>
                            </label>
                        </div>
                    </div>
                </section>
                
                <!-- Part 9: Pro Tips -->
                <section id="step-9" class="step-section">
                    <div class="bg-neutral-800 rounded-2xl border border-neutral-700 shadow-lg overflow-hidden">
                        <button class="accordion-toggle w-full p-4 sm:p-6 text-left" data-step="9">
                            <div class="flex justify-between items-center">
                                <h2 class="text-xl sm:text-2xl font-bold text-orange-400">Part 9: üí° Pro Tips (Dark Arts)</h2>
                                <span class="accordion-icon text-3xl text-orange-400 font-light transform transition-transform duration-300 rotate-90">+</span>
                            </div>
                        </button>
                        <div class="accordion-content p-4 sm:p-6 pt-0 space-y-4" data-content="9">
                            <strong class="block text-lg text-neutral-200 pt-2">Use Better Models</strong>
                            <p>Try different models for different tasks. Just run `ollama pull <model-name>` and update your `config.toml`!</p>
                            <ul class="list-disc list-inside space-y-2 text-neutral-300 pl-2">
                                <li>For coding: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">ollama pull codellama</code></li>
                                <li>For smart chat: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">ollama pull llama3:8b</code></li>
                                <li>For analysis: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">ollama pull mistral</code></li>
                            </ul>

                            <strong class="block text-lg text-neutral-200 pt-2">What Can You Do?</strong>
                            <p>Try these prompts in your new AI-Crypt:</p>
                            <ul class="list-disc list-inside space-y-2 text-neutral-300 pl-2">
                                <li><code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">"Research the history of Halloween and create a summary"</code></li>
                                <li><code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">"Create a personal portfolio website for me"</code></li>
                                <li><code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">"Write a blog post about productivity tips for ghosts"</code></li>
                            </ul>
                            
                            <!-- Part 9 Completion Checkbox -->
                            <label class="flex items-center space-x-3 p-4 mt-4 rounded-lg bg-neutral-700 border border-neutral-600 shadow-inner cursor-pointer relative">
                                <input type="checkbox" data-id="part-9-complete" class="main-step-checkbox flex-shrink-0">
                                <span class="text-lg font-bold text-orange-400">üßü I understand my new powers.</span>
                            </label>
                        </div>
                    </div>
                </section>
                
                <!-- Part 10: Shortcut -->
                <section id="step-10" class="step-section">
                    <div class="bg-neutral-800 rounded-2xl border border-neutral-700 shadow-lg overflow-hidden">
                        <button class="accordion-toggle w-full p-4 sm:p-6 text-left" data-step="10">
                            <div class="flex justify-between items-center">
                                <h2 class="text-xl sm:text-2xl font-bold text-orange-400">Part 10: üìú The Final Spell (1-Click Shortcut)</h2>
                                <span class="accordion-icon text-3xl text-orange-400 font-light transform transition-transform duration-300 rotate-90">+</span>
                            </div>
                        </button>
                        <div class="accordion-content p-4 sm:p-6 pt-0 space-y-4" data-content="10">
                            <p class="text-amber-300 bg-amber-900/50 border border-amber-800 p-3 rounded-lg"><strong>Why?</strong> Typing all those commands is a pain. Let's make a 1-click shortcut to start everything!</p>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 10.1: Create the Batch File</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-10-1" class="sub-step-checkbox flex-shrink-0">
                                <span>Go to your `C:\AI-Projects` folder (the one we made in Part 4).</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-10-2" class="sub-step-checkbox flex-shrink-0">
                                <span>**Right-click** in the empty space, choose **New > Text Document**.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-10-3" class="sub-step-checkbox flex-shrink-0">
                                <span>Name the file: <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">Start-AI-Crypt.bat</code> (Make SURE you change `.txt` to `.bat`).</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-10-4" class="sub-step-checkbox flex-shrink-0">
                                <span>Windows might warn you. Click "Yes" to change it.</span>
                            </label>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 10.2: Edit the Batch File</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-10-5" class="sub-step-checkbox flex-shrink-0">
                                <span>**Right-click** your new `Start-AI-Crypt.bat` file and choose **Edit**. (It might open in Notepad).</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-10-6" class="sub-step-checkbox flex-shrink-0">
                                <span>**COPY and PASTE** this *exactly* into the file:</span>
                            </label>
                            <pre class="bg-neutral-900 border border-neutral-700 rounded-lg p-3 text-sm text-neutral-300 overflow-x-auto">
@echo off
echo Starting Ollama Server (The Brain)...
start "Ollama" cmd /c "ollama serve"

echo Waiting 10 seconds for the brain to awaken...
timeout /t 10 /nobreak > nul

echo Awakening the Golem (OpenManus)...
cd C:\AI-Projects\OpenManus
powershell -c "python main.py; pause"
</pre>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-10-7" class="sub-step-checkbox flex-shrink-0">
                                <span>Press <code class="text-amber-400 bg-neutral-700 px-2 py-1 rounded-md">Ctrl + S</code> to Save, and close Notepad.</span>
                            </label>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 10.3: How to Use It</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-10-8" class="sub-step-checkbox flex-shrink-0">
                                <span>From now on, just double-click `Start-AI-Crypt.bat` to run everything!</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-10-9" class="sub-step-checkbox flex-shrink-0">
                                <span>(We'll make a spooooky icon for it in the next step!)</span>
                            </label>

                            <!-- Part 10 Completion Checkbox -->
                            <label class="flex items-center space-x-3 p-4 mt-4 rounded-lg bg-neutral-700 border border-neutral-600 shadow-inner cursor-pointer relative">
                                <input type="checkbox" data-id="part-10-complete" class="main-step-checkbox flex-shrink-0">
                                <span class="text-lg font-bold text-orange-400">üßü The spell is prepared!</span>
                            </label>
                        </div>
                    </div>
                </section>
                
                <!-- Part 11: Desktop Icon -->
                <section id="step-11" class="step-section">
                    <div class="bg-neutral-800 rounded-2xl border border-neutral-700 shadow-lg overflow-hidden">
                        <button class="accordion-toggle w-full p-4 sm:p-6 text-left" data-step="11">
                            <div class="flex justify-between items-center">
                                <h2 class="text-xl sm:text-2xl font-bold text-orange-400">Part 11: üéÉ The Final Effigy (Desktop Icon)</h2>
                                <span class="accordion-icon text-3xl text-orange-400 font-light transform transition-transform duration-300 rotate-90">+</span>
                            </div>
                        </button>
                        <div class="accordion-content p-4 sm:p-6 pt-0 space-y-4" data-content="11">
                            <p class="text-amber-300 bg-amber-900/50 border border-amber-800 p-3 rounded-lg"><strong>Why?</strong> That `.bat` file is ugly. Let's make a *proper* spooky icon on your desktop!</p>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 11.1: Get Your Icon File</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-11-1" class="sub-step-checkbox flex-shrink-0">
                                <span>Google "pumpkin emoji png" or "ghost emoji png". Find one with a **transparent background**.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-11-2" class="sub-step-checkbox flex-shrink-0">
                                <span>Save that PNG image to your `C:\AI-Projects` folder.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-11-3" class="sub-step-checkbox flex-shrink-0">
                                <span>Go to a free website like `cloudconvert.com` (search "png to ico converter").</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-11-4" class="sub-step-checkbox flex-shrink-0">
                                <span>Upload your PNG, convert it to an **ICO** file, and download it.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-11-5" class="sub-step-checkbox flex-shrink-0">
                                <span>Save the new `.ico` file in `C:\AI-Projects` as `crypt-icon.ico`.</span>
                            </label>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 11.2: Create the Shortcut</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-11-6" class="sub-step-checkbox flex-shrink-0">
                                <span>Go to your **Desktop**. **Right-click** empty space > **New** > **Shortcut**.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-11-7" class="sub-step-checkbox flex-shrink-0">
                                <span>For "location", click **Browse...** and find your `C:\AI-Projects\Start-AI-Crypt.bat` file.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-11-8" class="sub-step-checkbox flex-shrink-0">
                                <span>Click **Next**. Name it `Launch AI-Crypt` (or something cooler). Click **Finish**.</span>
                            </label>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 11.3: Change the Icon!</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-11-9" class="sub-step-checkbox flex-shrink-0">
                                <span>**Right-click** your new desktop shortcut > **Properties**.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-11-10" class="sub-step-checkbox flex-shrink-0">
                                <span>Click the **Change Icon...** button. (Click OK on any warnings).</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-11-11" class="sub-step-checkbox flex-shrink-0">
                                <span>Click **Browse...** and select your `C:\AI-Projects\crypt-icon.ico` file.</span>
                            </label>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-11-12" class="sub-step-checkbox flex-shrink-0">
                                <span>Click **Open** > **OK** > **Apply** > **OK**.</span>
                            </label>

                            <strong class="block text-lg text-neutral-200 pt-2">Step 11.4: Finished!</strong>
                            <label class="flex items-center space-x-3 p-3 rounded-lg hover:bg-neutral-700/50 transition-colors cursor-pointer relative">
                                <input type="checkbox" data-id="chk-11-13" class="sub-step-checkbox flex-shrink-0">
                                <span>You now have a spooky üéÉ or üëª icon on your desktop to launch your golem!</span>
                            </label>

                            <!-- Part 11 Completion Checkbox -->
                            <label class="flex items-center space-x-3 p-4 mt-4 rounded-lg bg-neutral-700 border border-neutral-600 shadow-inner cursor-pointer relative">
                                <input type="checkbox" data-id="part-11-complete" class="main-step-checkbox flex-shrink-0">
                                <span class="text-lg font-bold text-orange-400">üßü The ritual is... complete!</span>
                            </label>
                        </div>
                    </div>
                </section>

                <!-- Footer -->
                <footer class="text-center mt-8 text-neutral-500 text-sm">
                    <p>Guide conjured by Gemini for Nathan.</p>
                    <p>Cooper & Luna approved. üêà‚Äç‚¨õ üêà</p>
                </footer>

            </div>
        </div>
    </div>

    <!-- NEW: Jump Scare Overlay -->
    <div id="jumpscare-overlay">
        <!-- Placeholder for Cooper (Tuxedo) - "HISS!" -->
        <img src="https://placehold.co/400x400/0a0a0a/ffffff?font=montserrat&text=HISS%21" 
             alt="Tuxedo Cat Jump Scare" 
             id="jumpscare-img-1"
             class="jumpscare-img"
             onerror="this.src='https://placehold.co/400x400/333/eee?text=BOO!'">
        
        <!-- Placeholder for Luna (Ragdoll) - "GROWL!" -->
        <img src="https://placehold.co/400x400/f3e8d7/5d4037?font=montserrat&text=GROWL%21" 
             alt="Ragdoll Cat Jump Scare" 
             id="jumpscare-img-2"
             class="jumpscare-img"
             onerror="this.src='https://placehold.co/400x400/333/eee?text=BOO!'">
    </div>

    <!-- NEW: Confirmation Modal -->
    <div id="confirmation-modal">
        <div class="bg-neutral-800 p-8 rounded-2xl shadow-2xl border border-neutral-700 max-w-sm w-full mx-4">
            <h3 class="text-2xl font-bold text-orange-400 mb-4">Are you sure?</h3>
            <p class="text-neutral-300 mb-6">This will reset all your dark magic (and progress). You'll have to start the ritual from the beginning!</p>
            <div class="flex justify-end space-x-4">
                <button id="cancel-reset" class="px-5 py-2 bg-neutral-600 text-neutral-100 rounded-lg font-medium hover:bg-neutral-500 transition-colors">Cancel</button>
                <button id="confirm-reset" class="px-5 py-2 bg-rose-800 text-rose-100 rounded-lg font-medium hover:bg-rose-700 transition-colors">Yes, reset it!</button>
            </div>
        </div>
    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const guideContainer = document.getElementById('guide-container');
            const progressBar = document.getElementById('progress-bar');
            const progressText = document.getElementById('progress-text');
            const resetButton = document.getElementById('reset-button');
            
            // Modal elements
            const modal = document.getElementById('confirmation-modal');
            const cancelReset = document.getElementById('cancel-reset');
            const confirmReset = document.getElementById('confirm-reset');
            
            // Music elements
            const musicToggle = document.getElementById('music-toggle');
            let musicPlaying = false;
            let synth, noise;

            // Jump Scare elements
            const jumpScareOverlay = document.getElementById('jumpscare-overlay');
            const jumpScareImgs = document.querySelectorAll('.jumpscare-img');
            
            // All step sections (Parts)
            const allStepSections = document.querySelectorAll('.step-section');
            
            // All main completion checkboxes (e.g., "I've completed Part X")
            const mainStepCheckboxes = document.querySelectorAll('.main-step-checkbox');
            
            // All sub-step checkboxes (the small ones)
            const subStepCheckboxes = document.querySelectorAll('.sub-step-checkbox');

            // --- Music Player ---
            function initMusic() {
                if (!synth) {
                    // A low, ominous drone
                    synth = new Tone.AMSynth({
                        harmonicity: 1.5,
                        oscillator: { type: "fatsawtooth" },
                        envelope: { attack: 0.1, decay: 0.2, sustain: 1.0, release: 0.5 },
                        modulation: { type: "sine" },
                        modulationEnvelope: { attack: 0.5, decay: 0.0, sustain: 1.0, release: 0.5 }
                    }).toDestination();
                    synth.volume.value = -25; // Very quiet

                    // A subtle, windy noise
                    noise = new Tone.Noise("brown").toDestination();
                    noise.volume.value = -40;
                    
                    const autoFilter = new Tone.AutoFilter("4n").toDestination().start();
                    noise.connect(autoFilter);
                }
            }
            
            async function toggleMusic() {
                await Tone.start();
                initMusic();
                
                if (musicPlaying) {
                    synth.triggerRelease();
                    noise.stop();
                    musicToggle.textContent = 'üîà';
                    musicPlaying = false;
                } else {
                    synth.triggerAttack("C2"); // Play a low C note
                    noise.start();
                    musicToggle.textContent = 'üîä';
                    musicPlaying = true;
                }
            }
            musicToggle.addEventListener('click', toggleMusic);

            // --- Jump Scare Function ---
            function triggerJumpScare() {
                // Randomly pick Cooper or Luna
                const img1 = document.getElementById('jumpscare-img-1');
                const img2 = document.getElementById('jumpscare-img-2');
                
                img1.classList.remove('active');
                img2.classList.remove('active');
                
                const chosenImg = Math.random() < 0.5 ? img1 : img2;
                
                jumpScareOverlay.classList.add('active');
                chosenImg.classList.add('active');
                
                // Play a "hiss" sound
                if (musicPlaying) {
                    const hiss = new Tone.NoiseSynth({
                        noise: { type: 'white' },
                        envelope: { attack: 0.005, decay: 0.2, sustain: 0 }
                    }).toDestination();
                    hiss.volume.value = -10;
                    hiss.triggerAttackRelease("0.2");
                }
                
                // Hide after 1.5 seconds
                setTimeout(() => {
                    jumpScareOverlay.classList.remove('active');
                    chosenImg.classList.remove('active');
                }, 1500);
            }

            // --- Local Storage ---
            const storageKey = 'hauntedGuideProgress';

            function saveProgress() {
                const progress = {};
                document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                    progress[cb.dataset.id] = cb.checked;
                });
                localStorage.setItem(storageKey, JSON.stringify(progress));
            }

            function loadProgress() {
                const progress = JSON.parse(localStorage.getItem(storageKey) || '{}');
                let allCheckboxes = document.querySelectorAll('input[type="checkbox"]');
                
                if (Object.keys(progress).length === 0) {
                     // No saved progress, ensure only step-0 is visible
                    allStepSections.forEach((section, index) => {
                        if (index === 0) {
                            section.classList.add('visible');
                            const content = section.querySelector('.accordion-content');
                            const icon = section.querySelector('.accordion-icon');
                            content.classList.add('open');
                            icon.classList.remove('rotate-90');
                            icon.textContent = '‚àí';
                        } else {
                            section.classList.remove('visible');
                        }
                    });
                    updateProgressBar();
                    return;
                }
                
                allCheckboxes.forEach(cb => {
                    if (progress[cb.dataset.id]) {
                        cb.checked = true;
                    }
                });
                
                // Now, update visibility based on loaded progress
                updateSectionVisibility();
                updateProgressBar();
            }

            // --- Progress & Visibility ---
            function updateProgressBar() {
                // Progress is based on main step checkboxes + the initial checklist
                const beforeYouStartChecks = document.querySelectorAll('#step-0 .sub-step-checkbox');
                const totalMainSteps = mainStepCheckboxes.length;
                
                // Check if "Before You Start" is complete
                const beforeYouStartComplete = Array.from(beforeYouStartChecks).every(cb => cb.checked);
                
                let completedMainSteps = 0;
                if (beforeYouStartComplete) {
                    completedMainSteps = 1; // Count "Before You Start" as 1 main step
                }
                
                mainStepCheckboxes.forEach(cb => {
                    if (cb.checked) {
                        completedMainSteps++;
                    }
                });
                
                // Total steps = 1 (for step 0) + number of main part-complete boxes
                const totalSteps = 1 + totalMainSteps; 
                const percentage = totalSteps > 0 ? (completedMainSteps / totalSteps) * 100 : 0;
                
                progressBar.style.width = `${percentage}%`;
                progressText.textContent = `${Math.round(percentage)}%`;
            }

            function updateSectionVisibility() {
                // Check if "Before YouStart" is complete
                const beforeYouStartChecks = document.querySelectorAll('#step-0 .sub-step-checkbox');
                const beforeYouStartComplete = Array.from(beforeYouStartChecks).every(cb => cb.checked);

                if (!beforeYouStartComplete) {
                    // Only show Step 0
                    document.getElementById('step-0').classList.add('visible');
                    for (let i = 1; i <= 11; i++) {
                        document.getElementById(`step-${i}`).classList.remove('visible');
                    }
                    return;
                }
                
                // If "Before You Start" is done, show Part 1
                document.getElementById('step-0').classList.add('visible');
                document.getElementById('step-1').classList.add('visible');
                
                // Loop through all main "Part X Complete" checkboxes
                for (let i = 1; i <= 10; i++) {
                    const partCheckbox = document.getElementById(`part-${i}-complete`);
                    if (partCheckbox && partCheckbox.checked) {
                        // If Part i is done, show Part i+1
                        const nextPart = document.getElementById(`step-${i + 1}`);
                        if (nextPart) {
                            nextPart.classList.add('visible');
                        }
                    } else {
                        // If Part i is not done, stop here
                        break;
                    }
                }
                updateProgressBar();
            }

            // --- Event Listeners ---
            guideContainer.addEventListener('click', (e) => {
                // Handle Accordion Toggles
                const toggle = e.target.closest('.accordion-toggle');
                if (toggle) {
                    const step = toggle.dataset.step;
                    const content = document.querySelector(`[data-content="${step}"]`);
                    const icon = toggle.querySelector('.accordion-icon');
                    
                    if (content.classList.contains('open')) {
                        content.classList.remove('open');
                        icon.classList.add('rotate-90');
                        icon.textContent = '+';
                    } else {
                        content.classList.add('open');
                        icon.classList.remove('rotate-90');
                        icon.textContent = '‚àí';
                    }
                }

                // Handle Checkbox Clicks
                const checkbox = e.target.closest('input[type="checkbox"]');
                if (checkbox) {
                    // Add animation
                    const label = checkbox.closest('label');
                    if (label) {
                        // Add animation class
                        const animationClass = checkbox.classList.contains('main-step-checkbox') ? 'pumpkin-animation' : 'ghost-animation';
                        label.classList.add(animationClass);
                        // Remove animation class after it finishes
                        setTimeout(() => {
                            label.classList.remove(animationClass);
                        }, 750);
                    }
                    
                    // Trigger jump scare on main step completion
                    if (checkbox.classList.contains('main-step-checkbox') && checkbox.checked) {
                        triggerJumpScare();
                    }
                    
                    // Save and update visibility
                    saveProgress();
                    updateSectionVisibility();
                }
            });

            // Reset Button Logic
            resetButton.addEventListener('click', () => {
                modal.classList.add('visible');
            });

            cancelReset.addEventListener('click', () => {
                modal.classList.remove('visible');
            });

            confirmReset.addEventListener('click', () => {
                // Clear storage
                localStorage.removeItem(storageKey);
                
                // Uncheck all boxes
                document.querySelectorAll('input[type="checkbox"]').forEach(cb => {
                    cb.checked = false;
                });
                
                // Close all accordions except the first one
                document.querySelectorAll('.accordion-content').forEach((content, index) => {
                    const icon = content.previousElementSibling.querySelector('.accordion-icon');
                    if (index === 0) {
                        content.classList.add('open');
                        icon.classList.remove('rotate-90');
                        icon.textContent = '‚àí';
                    } else {
                        content.classList.remove('open');
                        icon.classList.add('rotate-90');
                        icon.textContent = '+';
                    }
                });

                // Update visibility (will reset to only show step 0)
                updateSectionVisibility();
                
                // Hide modal
                modal.classList.remove('visible');
            });

            // Initial Load
            loadProgress();
        });
    </script>
</body>
</html>
